<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="mDragable.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		w = 0;
		function moveWindow(){};
		isActive = false;
		var objMoveWindow = new moveWindow();
		moveWindow.prototype.downMouse = function(e){	
			isActive = true;
			mouseLeftPoint = e.pageX;
			mouseTopPoint = e.pageY;
			
			
		    getLeftPos = $(".dragDiv").offset().left;
			getTopPos = $(".dragDiv").offset().top;
			
			
			$(".dragDiv").mousemove(objMoveWindow.moveMouse);
			//$(".dragDiv").css({"left":getLeftPos+"px", "top":getTopPos+"px"})
			console.log(getLeftPos +" === "+getTopPos);
		};
		moveWindow.prototype.upMouse = function (e){
			isActive = false;
			console.log("End");
		};
		moveWindow.prototype.moveMouse = function(e){
			if(isActive)
			{
			
				console.log("e.pageX - mouseLeftPoint"+e.pageX+" === "+mouseLeftPoint)
				$(".dragDiv").css({"left":(getLeftPos+(e.pageX-mouseLeftPoint))+"px", "top":getTopPos+(e.pageY-mouseTopPoint)+"px"})
			}
		};
		
		$(".dragDiv").mousedown(objMoveWindow.downMouse);
		$(document).mouseup(objMoveWindow.upMouse);
		
		/*$(document).mousemove(function(e){
				var mouseLeftPoint = e.clientX;
				var mouseTopPoint = e.clientY;
				console.log(mouseLeftPoint +" --------  "+ mouseTopPoint)
		});*/
	})

</script>
<style>
body
{ font-family:Arial, Helvetica, sans-serif; }
.container
{
	position:relative;
	width:100%;	
	
}
.dragDiv
{
	width:300px;
	height:300px;
	padding:10px;
	background:#333;	
	position:absolute;
	left:25px;
	top:25px;
	cursor:pointer;
	color:#FFF
}



</style>


</head>

<body>
<div class="container">
<div class="dragDiv">
	DragMe here ...  ... 

</div>
</div>

</body>
</html>
